{"ast":null,"code":"import _regeneratorRuntime from\"C:\\\\Users\\\\dbino\\\\Desktop\\\\Code\\\\repos\\\\react-blog-app\\\\react-blog-app\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/regenerator\";import _asyncToGenerator from\"C:\\\\Users\\\\dbino\\\\Desktop\\\\Code\\\\repos\\\\react-blog-app\\\\react-blog-app\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/asyncToGenerator\";import _slicedToArray from\"C:\\\\Users\\\\dbino\\\\Desktop\\\\Code\\\\repos\\\\react-blog-app\\\\react-blog-app\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/slicedToArray\";import React,{useState,useEffect}from'react';import articleContent from'./article-content';import ArticlesList from'../Components/ArticlesList';import CommentsList from'../Components/CommentsList';import UpvotesSection from'../Components/UpvotesSection';import NotFoundPage from'./NotFoundPage';import AddCommentForm from'../Components/AddCommentForm';var ArticlePage=function ArticlePage(_ref){var match=_ref.match;var name=match.params.name;var article=articleContent.find(function(article){return article.name===name;});var _useState=useState({upvotes:0,comments:[]}),_useState2=_slicedToArray(_useState,2),articleInfo=_useState2[0],setArticleInfo=_useState2[1];//runs when component mounts and updates one of the things in the array\nuseEffect(function(){var fetchData=/*#__PURE__*/function(){var _ref2=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(){var result,body;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.next=2;return fetch('/api/articles/'+name);case 2:result=_context.sent;_context.next=5;return result.json();case 5:body=_context.sent;setArticleInfo(body);case 7:case\"end\":return _context.stop();}}},_callee);}));return function fetchData(){return _ref2.apply(this,arguments);};}();fetchData();},[name]);var otherArticles=articleContent.filter(function(article){return article.name!==name;});if(!article){return/*#__PURE__*/React.createElement(NotFoundPage,null);}return/*#__PURE__*/React.createElement(React.Fragment,null,/*#__PURE__*/React.createElement(\"h1\",null,article.title),/*#__PURE__*/React.createElement(UpvotesSection,{articleName:name,upvotes:articleInfo.upvotes,setArticleInfo:setArticleInfo}),article.content.map(function(para,key){return/*#__PURE__*/React.createElement(\"p\",{key:key},para);}),/*#__PURE__*/React.createElement(AddCommentForm,{articleName:name,setArticleInfo:setArticleInfo}),/*#__PURE__*/React.createElement(CommentsList,{comments:articleInfo.comments}),/*#__PURE__*/React.createElement(\"h2\",null,\"Other Articles:\"),/*#__PURE__*/React.createElement(ArticlesList,{articles:otherArticles}));};export default ArticlePage;","map":{"version":3,"sources":["C:/Users/dbino/Desktop/Code/repos/react-blog-app/react-blog-app/src/Pages/ArticlePage.js"],"names":["React","useState","useEffect","articleContent","ArticlesList","CommentsList","UpvotesSection","NotFoundPage","AddCommentForm","ArticlePage","match","name","params","article","find","upvotes","comments","articleInfo","setArticleInfo","fetchData","fetch","result","json","body","otherArticles","filter","title","content","map","para","key"],"mappings":"mkBAAA,MAAOA,CAAAA,KAAP,EAAgBC,QAAhB,CAA0BC,SAA1B,KAA2C,OAA3C,CACA,MAAOC,CAAAA,cAAP,KAA2B,mBAA3B,CACA,MAAOC,CAAAA,YAAP,KAAyB,4BAAzB,CACA,MAAOC,CAAAA,YAAP,KAAyB,4BAAzB,CACA,MAAOC,CAAAA,cAAP,KAA2B,8BAA3B,CACA,MAAOC,CAAAA,YAAP,KAAyB,gBAAzB,CACA,MAAOC,CAAAA,cAAP,KAA2B,8BAA3B,CACA,GAAMC,CAAAA,WAAW,CAAG,QAAdA,CAAAA,WAAc,MAAe,IAAZC,CAAAA,KAAY,MAAZA,KAAY,CAC/B,GAAMC,CAAAA,IAAI,CAAGD,KAAK,CAACE,MAAN,CAAaD,IAA1B,CACA,GAAME,CAAAA,OAAO,CAAGV,cAAc,CAACW,IAAf,CAAoB,SAAAD,OAAO,QAAIA,CAAAA,OAAO,CAACF,IAAR,GAAiBA,IAArB,EAA3B,CAAhB,CAF+B,cAKOV,QAAQ,CAAC,CAAEc,OAAO,CAAE,CAAX,CAAcC,QAAQ,CAAE,EAAxB,CAAD,CALf,wCAKxBC,WALwB,eAKXC,cALW,eAM/B;AACAhB,SAAS,CAAC,UAAM,CACZ,GAAMiB,CAAAA,SAAS,2FAAG,yKACOC,CAAAA,KAAK,CAAC,iBAAmBT,IAApB,CADZ,QACRU,MADQ,qCAEKA,CAAAA,MAAM,CAACC,IAAP,EAFL,QAERC,IAFQ,eAGdL,cAAc,CAACK,IAAD,CAAd,CAHc,sDAAH,kBAATJ,CAAAA,SAAS,2CAAf,CAKAA,SAAS,GACZ,CAPQ,CAON,CAACR,IAAD,CAPM,CAAT,CAUA,GAAMa,CAAAA,aAAa,CAAGrB,cAAc,CAACsB,MAAf,CAAsB,SAAAZ,OAAO,QAAIA,CAAAA,OAAO,CAACF,IAAR,GAAiBA,IAArB,EAA7B,CAAtB,CAEA,GAAI,CAACE,OAAL,CAAc,CACV,mBACI,oBAAC,YAAD,MADJ,CAGH,CACD,mBACI,qDACI,8BAAKA,OAAO,CAACa,KAAb,CADJ,cAEI,oBAAC,cAAD,EAAgB,WAAW,CAAIf,IAA/B,CAAqC,OAAO,CAAIM,WAAW,CAACF,OAA5D,CAAqE,cAAc,CAAIG,cAAvF,EAFJ,CAIQL,OAAO,CAACc,OAAR,CAAgBC,GAAhB,CACI,SAACC,IAAD,CAAOC,GAAP,qBACI,yBAAG,GAAG,CAAEA,GAAR,EAAcD,IAAd,CADJ,EADJ,CAJR,cAWI,oBAAC,cAAD,EAAgB,WAAW,CAAElB,IAA7B,CAAmC,cAAc,CAAGO,cAApD,EAXJ,cAYI,oBAAC,YAAD,EAAc,QAAQ,CAAID,WAAW,CAACD,QAAtC,EAZJ,cAaI,gDAbJ,cAcI,oBAAC,YAAD,EAAc,QAAQ,CAAEQ,aAAxB,EAdJ,CADJ,CAoBH,CA5CD,CA8CA,cAAef,CAAAA,WAAf","sourcesContent":["import React, { useState, useEffect } from 'react';\r\nimport articleContent from './article-content';\r\nimport ArticlesList from '../Components/ArticlesList';\r\nimport CommentsList from '../Components/CommentsList';\r\nimport UpvotesSection from '../Components/UpvotesSection';\r\nimport NotFoundPage from './NotFoundPage';\r\nimport AddCommentForm from '../Components/AddCommentForm';\r\nconst ArticlePage = ({ match }) => {\r\n    const name = match.params.name;\r\n    const article = articleContent.find(article => article.name === name);\r\n\r\n\r\n    const [articleInfo, setArticleInfo] = useState({ upvotes: 0, comments: [] });\r\n    //runs when component mounts and updates one of the things in the array\r\n    useEffect(() => {\r\n        const fetchData = async () => {\r\n            const result = await fetch('/api/articles/' + name);\r\n            const body = await result.json();\r\n            setArticleInfo(body);\r\n        }\r\n        fetchData();\r\n    }, [name]);\r\n\r\n\r\n    const otherArticles = articleContent.filter(article => article.name !== name);\r\n\r\n    if (!article) {\r\n        return (\r\n            <NotFoundPage />\r\n        );\r\n    }\r\n    return (\r\n        <>\r\n            <h1>{article.title}</h1>\r\n            <UpvotesSection articleName = {name} upvotes = {articleInfo.upvotes} setArticleInfo = {setArticleInfo}/>\r\n            {\r\n                article.content.map(\r\n                    (para, key) => (\r\n                        <p key={key}>{para}</p>\r\n                    )\r\n                )\r\n\r\n            }\r\n            <AddCommentForm articleName={name} setArticleInfo ={setArticleInfo}/>\r\n            <CommentsList comments = {articleInfo.comments}/>\r\n            <h2>Other Articles:</h2>\r\n            <ArticlesList articles={otherArticles} />\r\n        </>\r\n    );\r\n\r\n\r\n}\r\n\r\nexport default ArticlePage;"]},"metadata":{},"sourceType":"module"}